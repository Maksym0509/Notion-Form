"use strict";(self.webpackChunkJobcy_react=self.webpackChunkJobcy_react||[]).push([[648],{87648:function(e,s,n){n.r(s),n.d(s,{default:function(){return y}});var t=n(72791),a=n(70885),i=n(57823),l=n(63009),c=n(39773),r=n(82988),o=n(94938),d=n(73830),u=n(59434),m=n(64880),h=n(9085),f=n(32273),b=n(74673),x=function(e){return e.results.map((function(e){return{value:e.id,label:e.title[0].plain_text}}))},j=n(81135),p=n(80184),N=function(){var e=(0,b.Z)(["token"]),s=(0,a.Z)(e,1)[0],n=(0,m.k6)(),N=(0,u.I0)(),g=(0,u.v9)((function(e){return e.form})),y=g.isSuccess,Z=g.isError,v=g.message,k=g.tables,w=new URL(window.document.location).searchParams.get("code"),C=(0,t.useState)(!1),S=(0,a.Z)(C,2),F=S[0],_=S[1],L=(0,t.useState)(!1),P=(0,a.Z)(L,2),E=P[0],z=P[1],A=(0,t.useState)([]),I=(0,a.Z)(A,2),J=I[0],M=I[1],O=(0,t.useState)(null),T=(0,a.Z)(O,2),q=T[0],G=T[1],H=function(){return _(!F)};return(0,t.useEffect)((function(){if(console.log("token",Z),Z)h.Am.error(v),n.push("/signin");else if(y)""!==v&&h.Am.success(v);N((0,f.fH)())}),[y,Z]),(0,t.useEffect)((function(){w&&(H(),N((0,f.Gy)(w)),N((0,f.Lk)({code:w})),z(!0))}),[w]),(0,t.useEffect)((function(){k&&(M(x(k)),z(!1))}),[k]),(0,p.jsxs)(t.Fragment,{children:[(0,p.jsx)("section",{className:"bg-home2",id:"home",children:(0,p.jsx)(i.Z,{children:(0,p.jsx)(l.Z,{className:"align-items-center createF",children:(0,p.jsx)(c.Z,{lg:12,children:(0,p.jsxs)("div",{className:"registration-form",children:[(0,p.jsx)("h2",{children:(0,p.jsx)("span",{className:"text-success fw-bold"})}),s.token&&(0,p.jsx)(l.Z,{className:"g-0 justify-content-center",children:(0,p.jsx)(c.Z,{md:4,children:(0,p.jsx)("div",{className:"mt-3 mt-md-0 h-100",children:(0,p.jsxs)("a",{href:"https://api.notion.com/v1/oauth/authorize?client_id=e88816f4-9160-434f-9fe0-21a5ea1f30ba&response_type=code&owner=user&redirect_uri=https%3A%2F%2Fwizfill.onrender.com%2F",className:"btn btn-primary w-100 h-100",children:[(0,p.jsx)("i",{className:"uil uil-plus me-1"}),"New Form"]})})})})]})})})})}),(0,p.jsx)("div",{id:"myModal",className:"modal fade",tabIndex:"-1","aria-labelledby":"myModalLabel","aria-hidden":"true",children:(0,p.jsx)(r.Z,{isOpen:F,role:"dialog",centered:!0,children:(0,p.jsxs)("div",{className:"modal-content",children:[(0,p.jsxs)("div",{className:"modal-header",children:[(0,p.jsx)("h5",{className:"modal-title mt-0",id:"myModalLabel",children:"Pick the Notion table"}),(0,p.jsx)("button",{type:"button",className:"btn-close",onClick:H})]}),(0,p.jsx)(o.Z,{children:(0,p.jsx)(j.ZP,{className:"basic-single",classNamePrefix:"select",value:q,isLoading:E,isClearable:!0,isSearchable:!0,onChange:G,required:!0,name:"notionTable",options:J})}),(0,p.jsxs)(d.Z,{children:[(0,p.jsx)("button",{type:"button",onClick:function(){H()},className:"btn btn-secondary waves-effect","data-bs-dismiss":"modal",children:"Close"}),(0,p.jsx)("button",{onClick:function(){q&&(localStorage.setItem("selectedTable",JSON.stringify(q)),n.push("/build"))},type:"button",className:"btn btn-primary waves-effect waves-light",children:"Continue"})]})]})})})]})},g=n(71642),y=function(){return(0,p.jsxs)(t.Fragment,{children:[(0,p.jsx)(g.ZP,{children:(0,p.jsx)("title",{children:"Wizfill"})}),(0,p.jsx)(N,{})]})}}}]);
//# sourceMappingURL=648.c15f8734.chunk.js.map