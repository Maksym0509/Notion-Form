{"version":3,"file":"static/js/648.c15f8734.chunk.js","mappings":"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","sources":["helper/convertNotionTablesToSelect.js","pages/Home/Layout2/Section.js","pages/Home/Layout2/Layout2.js"],"sourcesContent":["const convertNotionTablesToSelect = (tables) => {\r\n  const states = tables.results.map((table) => {\r\n    return { value: table.id, label: table.title[0].plain_text };\r\n  });\r\n\r\n  return states;\r\n};\r\n\r\nexport default convertNotionTablesToSelect;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Col, Container, Row, Modal, ModalBody, ModalFooter } from \"reactstrap\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { getTables, formReset } from \"../../../redux/Form/formSlice\";\r\nimport { setCode } from \"../../../redux/Form/formSlice\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport convertNotionTablesToSelect from \"../../../helper/convertNotionTablesToSelect\";\r\nimport Select from \"react-select\";\r\nimport \"./index.css\";\r\n\r\nconst Section = () => {\r\n  const [cookies] = useCookies([\"token\"]);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const { isSuccess, isError, message, tables } = useSelector(\r\n    (state) => state.form\r\n  );\r\n  const params = new URL(window.document.location).searchParams;\r\n  const code = params.get(\"code\");\r\n  const [modal, setModal] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [tableOptions, setTableOptions] = useState([]);\r\n  const [table, setTable] = useState(null);\r\n  const openModal = () => setModal(!modal);\r\n  const validateTable = () => {\r\n    if (table) {\r\n      localStorage.setItem(\"selectedTable\", JSON.stringify(table));\r\n      history.push(\"/build\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"token\",isError)\r\n    if (isError) {\r\n      toast.error(message);\r\n      history.push(\"/signin\");\r\n    } else if (isSuccess) {\r\n      const result = message !== \"\" ? toast.success(message) : null;\r\n    }\r\n    dispatch(formReset());\r\n  }, [isSuccess, isError]);\r\n\r\n  useEffect(() => {\r\n    if (code) {\r\n      openModal();\r\n      dispatch(setCode(code));\r\n      dispatch(getTables({ code: code }));\r\n      setIsLoading(true);\r\n    }\r\n  }, [code]);\r\n\r\n  useEffect(() => {\r\n    if (tables) {\r\n      setTableOptions(convertNotionTablesToSelect(tables));\r\n      setIsLoading(false);\r\n    }\r\n  }, [tables]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <section className=\"bg-home2\" id=\"home\">\r\n        <Container>\r\n          <Row className=\"align-items-center createF\">\r\n            <Col lg={12}>\r\n              <div className=\"registration-form\">\r\n                <h2>\r\n                  <span className=\"text-success fw-bold\"></span>\r\n                </h2>\r\n                {cookies.token && (\r\n                  <Row className=\"g-0 justify-content-center\">\r\n                    <Col md={4}>\r\n                      <div className=\"mt-3 mt-md-0 h-100\">\r\n                        <a\r\n                          href=\"https://api.notion.com/v1/oauth/authorize?client_id=e88816f4-9160-434f-9fe0-21a5ea1f30ba&response_type=code&owner=user&redirect_uri=https%3A%2F%2Fwizfill.onrender.com%2F\"\r\n                          className=\"btn btn-primary w-100 h-100\"\r\n                        >\r\n                          <i className=\"uil uil-plus me-1\"></i>New Form\r\n                        </a>\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </section>\r\n\r\n      <div\r\n        id=\"myModal\"\r\n        className=\"modal fade\"\r\n        tabIndex=\"-1\"\r\n        aria-labelledby=\"myModalLabel\"\r\n        aria-hidden=\"true\"\r\n      >\r\n        <Modal isOpen={modal} role=\"dialog\" centered>\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h5 className=\"modal-title mt-0\" id=\"myModalLabel\">\r\n                Pick the Notion table\r\n              </h5>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn-close\"\r\n                onClick={openModal}\r\n              ></button>\r\n            </div>\r\n            <ModalBody>\r\n              <Select\r\n                className=\"basic-single\"\r\n                classNamePrefix=\"select\"\r\n                value={table}\r\n                isLoading={isLoading}\r\n                isClearable={true}\r\n                isSearchable={true}\r\n                onChange={setTable}\r\n                required={true}\r\n                name=\"notionTable\"\r\n                options={tableOptions}\r\n              />\r\n            </ModalBody>\r\n            <ModalFooter>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  openModal();\r\n                }}\r\n                className=\"btn btn-secondary waves-effect\"\r\n                data-bs-dismiss=\"modal\"\r\n              >\r\n                Close\r\n              </button>\r\n              <button\r\n                onClick={validateTable}\r\n                type=\"button\"\r\n                className=\"btn btn-primary waves-effect waves-light\"\r\n              >\r\n                Continue\r\n              </button>\r\n            </ModalFooter>\r\n          </div>\r\n        </Modal>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Section;\r\n","import React from \"react\";\r\nimport Section from \"../Layout2/Section\";\r\nimport MetaTags from \"react-meta-tags\";\r\n\r\nconst Layout2 = () => {\r\n  return (\r\n    <React.Fragment>\r\n      <MetaTags>\r\n        <title>Wizfill</title>\r\n      </MetaTags>\r\n      <Section />\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default Layout2;\r\n"],"names":["tables","results","map","table","value","id","label","title","plain_text","_useCookies","useCookies","cookies","_slicedToArray","history","useHistory","dispatch","useDispatch","_useSelector","useSelector","state","form","isSuccess","isError","message","code","URL","window","document","location","searchParams","get","_useState","useState","_useState2","modal","setModal","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","tableOptions","setTableOptions","_useState7","_useState8","setTable","openModal","useEffect","console","log","toast","error","push","success","formReset","setCode","getTables","convertNotionTablesToSelect","_jsxs","React","children","_jsx","className","Container","Row","Col","lg","token","md","href","tabIndex","Modal","isOpen","role","centered","type","onClick","ModalBody","Select","classNamePrefix","isClearable","isSearchable","onChange","required","name","options","ModalFooter","localStorage","setItem","JSON","stringify","MetaTags","Section"],"sourceRoot":""}